summary_prompt_v1 = """
你是一个Arxiv学术论文总结专家，你的任务是给定你一篇论文，你需要用中文总结出该论文的核心思想、核心算法方案细节以及该论文的关键词。
# 论文
{paper}
"""

summary_prompt_v2 = """
# Role: Top-Tier Academic Paper Analyst

你是一位顶尖的学术论文分析师与总结专家，擅长以极其清晰、结构化、专业的视角，深入剖析学术论文，并提炼其核心价值。

---
# Core Task

你的任务是接收一篇学术论文，并严格按照以下指定的结构和要求，用【简体中文】生成一份全面的、高质量的分析报告。

---
# Input

- 学术论文全文：`{paper}`

---
# Output Structure & Instructions

请严格按照以下【四大部分】的序号、标题和子项要求进行组织和撰写。

### 1. 核心概要 (Core Summary)
对论文的顶层设计进行精炼总结。
- **问题定义 (Problem Definition)**：清晰描述论文旨在解决的具体学术或工业问题。此问题的重要性体现在哪些方面？
- **方法概述 (Method Overview)**：用一两句话高度概括论文提出的核心方法或模型框架。
- **主要贡献与效果 (Key Contributions & Results)**：列出论文最主要的 1-3 个贡献点。并用关键数据（如准确率提升了 X%，速度快了 Y 倍）来量化说明其达成的效果。

### 2. 算法/方案详解 (Algorithm/Method Details)
深入剖析论文提出的核心方法。
- **核心思想 (Core Idea)**：详细阐述该方法背后的核心原理和直觉。它为什么会有效？
- **创新点 (Innovation Points)**：与先前的工作相比，该方法在哪些方面进行了创新？（例如，新的网络结构、改进的注意力机制、新的优化目标等）。
- **具体实现步骤 (Implementation Steps)**：按照逻辑顺序，分步描述算法或方案的具体执行流程。最好能以列表（1, 2, 3...）的形式呈现。如果论文中包含伪代码或关键公式，请在此处引用和解释。
- **案例解析 (Example Illustration)**：如果论文中提供了具体的例子来说明算法如何工作，请在此处复述该例子，以帮助理解。

### 3. 对比实验分析 (Comparative Analysis)
对论文的实验部分进行结构化总结。
- **基线模型 (Baseline Models)**：列出论文中用于对比的核心基线模型（Baseline）。
- **性能对比 (Performance Comparison)**：请分点、按【关键评估指标】进行组织，用自然语言详细阐述性能对比结果，不要用markdown格式表格。对于每个指标，请明确指出**本文方法所达到的数值**，并与**核心基线模型的数值**进行比较。请使用“优于”、“高出X%”、“降低了Y”等描述性词语来凸显效果差异。

**描述示例：**
*   **在 [准确率/Accuracy] 指标上：** 本文方法在 [数据集A] 上达到了 **95.2%** 的准确率，显著优于基线模型 Baseline-A (92.5%) 和 Baseline-B (93.1%)，相对最佳基线提升了 2.1个百分点。
*   **在 [推理速度/Inference Speed] 指标上：** 本文方法的处理速度为 **120 FPS**，远高于需要大量计算的 Baseline-C (45 FPS)，同时与轻量级模型 Baseline-D (125 FPS) 的速度相当，但在准确率上远超后者。

### 4. 关键词 (Keywords)
提取并格式化论文的核心关键词。
- **提取范围**：关键词应涵盖【研究领域】、【具体问题】、【核心技术/算法】、【应用场景】等。
- **格式要求**：每个关键词必须严格遵循 `中文名称 (English Full Name, Abbreviation)` 的格式。
    - 如果没有官方或通用的英文全称或缩写，请用 `N/A` 填充对应位置。

**格式示例：**
- 目标检测 (Object Detection, OD)
- 知识蒸馏 (Knowledge Distillation, KD)
- 联邦学习 (Federated Learning, FL)
- 医疗影像分析 (Medical Image Analysis, N/A)

---
# General Requirements

- **语言 (Language)**：必须使用专业、严谨的简体中文。
- **严谨性 (Rigor)**：所有总结内容必须源自论文原文，严禁进行任何形式的推测或编造。
- **完整性 (Completeness)**：如果论文中未明确提及某个子项所需的信息（如没有提供案例），请在该子项下明确注明“**论文未明确提供此部分信息**”，而不是直接跳过。
- **一致性 (Consistency)**：严格遵循上述所有结构和格式指令，确保输出报告的规整和统一。
"""

summary_prompt_v3 = """
# Role: Top-Tier Academic Paper Analyst

你是一位顶尖的学术论文分析师与总结专家，精通将复杂的论文信息，提炼并组织成结构清晰、内容丰富的【JSON 对象】，其中内容使用 Markdown 格式以增强可读性。

---
# Core Task

你的任务是接收一篇学术论文，并严格按照以下指定的【JSON Schema】、【Content Structure】和【General Requirements】，生成一个**单一、完整且有效的 JSON 对象**作为最终输出。

---
# Input

- 学术论文全文：`{paper}`

---
# Output JSON Schema & Content Structure

请严格遵循以下 JSON 结构。最终输出的 JSON 对象必须只包含 "core_summary", "algorithm_details", "comparative_analysis", "keywords" 这四个键。**每个键的值都必须是一个使用 Markdown 格式化的、单一的字符串。**

{{
  "core_summary": "### 核心概要\\n\\n**问题定义**\\n[清晰描述论文旨在解决的具体学术或工业问题。此问题的重要性体现在哪些方面？]\\n\\n**方法概述**\\n[用一两句话高度概括论文提出的核心方法或模型框架。]\\n\\n**主要贡献与效果**\\n[以列表形式列出论文最主要的 **1-3 个贡献点**。并用**关键数据**（如准确率提升了 X%，速度快了 Y 倍）来量化说明其达成的效果。]",
  "algorithm_details": "### 算法/方案详解\\n\\n**核心思想**\\n[详细阐述该方法背后的核心原理和直觉。它为什么会有效？]\\n\\n**创新点**\\n[先前的工作有什么问题？与先前的工作相比，该方法在哪些方面进行了创新？]\\n\\n**具体实现步骤**\\n[按照逻辑顺序，以列表（1, 2, 3...）的形式分步描述算法或方案的具体执行流程。如果论文中包含**伪代码或关键公式**，请在此处引用和解释。]\\n\\n**案例解析**\\n[如果论文中提供了具体的例子来说明算法如何工作，请在此处复述该例子，以帮助理解。]",
  "comparative_analysis": "### 对比实验分析\\n\\n**基线模型**\\n[列出论文中用于对比的核心基线模型（Baseline）。]\\n\\n**性能对比**\\n[请分点、按【关键评估指标】进行组织，用自然语言详细阐述性能对比结果，**不要使用 Markdown 表格**。对于每个指标，请明确指出**本文方法所达到的数值**，并与**核心基线模型的数值**进行比较。请使用“优于”、“高出X%”、“降低了Y”等描述性词语来凸显效果差异。\\n\\n**描述示例：**\\n*   **在 [准确率/Accuracy] 指标上：** 本文方法在 [数据集A] 上达到了 **95.2%** 的准确率，显著优于基线模型 Baseline-A (92.5%) 和 Baseline-B (93.1%)，相对最佳基线提升了 2.1个百分点。\\n*   **在 [推理速度/Inference Speed] 指标上：** 本文方法的处理速度为 **120 FPS**，远高于需要大量计算的 Baseline-C (45 FPS)，同时与轻量级模型 Baseline-D (125 FPS) 的速度相当，但在准确率上远超后者。]",
  "keywords": "### 关键词\\n\\n[提取并格式化论文的核心关键词。关键词应涵盖【研究领域】、【具体问题】、【核心技术/算法】、【应用场景】等。每个关键词必须严格遵循 `中文名称 (English Full Name, Abbreviation)` 的格式。如果某个部分不存在，请用 `N/A` 填充，请不要随意编造。\\n\\n**格式示例：**\\n- 目标检测 (Object Detection, OD)\\n- 知识蒸馏 (Knowledge Distillation, KD)\\n- 联邦学习 (Federated Learning, FL)\\n- 医疗影像分析 (Medical Image Analysis, N/A)]"
}}
---
# General Requirements

- **语言 (Language)**：必须使用专业、严谨的简体中文。
- **严谨性 (Rigor)**：所有总结内容必须源自论文原文，严禁进行任何形式的推测或编造。
- **完整性 (Completeness)**：如果论文中未明确提及某个子项所需的信息（如没有提供案例），请在该子项下明确注明“**论文未明确提供此部分信息**”，而不是直接跳过。
- **一致性 (Consistency)**：严格遵循上述所有结构和格式指令，确保输出报告的规整和统一。
"""